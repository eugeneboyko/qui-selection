var Qui=Qui||{};
(function(e){function d(a,b){this.setSelectionLimit(b);this.__selectedItems=[];this.__allItems=a||[]}d.prototype={select:function(a){-1===this.__selectedItems.indexOf(a)&&(this.__selectedItems.push(a),this.callback&&this.callback(a,!0))},deselect:function(a){var b=this.__selectedItems.indexOf(a);-1!==b&&(this.__selectedItems.splice(b,1),this.callback&&this.callback(a,!1))},isSelected:function(a){return-1!==this.__selectedItems.indexOf(a)},toggle:function(a){-1===this.__selectedItems.indexOf(a)?this.selectItem(a):
this.deselectItem(a)},selectItems:function(a){for(var b=0;b<a.length;b++)this.select(a)},deselectItems:function(a){for(var b=0;b<a.length;b++)this.deselect(a)},toggleItems:function(a){for(var b=0;b<a.length;b++)this.toggle(a)},isAllItemsSelected:function(a){for(var b=0;b<a.length;b++)if(!this.isSelected(a[b]))return!1;return!0},isAnyItemSelected:function(a){for(var b=0;b<a.length;b++)if(this.isSelected(a[b]))return!0;return!1},selectAll:function(){this.__selectedItems=this.__allItems.splice()},deselectAll:function(){this.__selectedItems=
[]},toggleAll:function(){this.isAllSelected()?this.deselectAll():this.selectAll()},isAllSelected:function(){return this.__selectedItems.length===this.__allItems.length},firstSelected:function(){return this.__selectedItems[0]}};Object.defineProperty(d.prototype,"selectedItems",{get:function(){return this.__selectedItems},set:function(a){for(var b=[],c=0;c<this.__selectedItems.length;c++)-1===a.indexOf(this.__selectedItems[c])&&b.push(this.__selectedItems[c]);for(c=0;c<b.length;c++)this.deselect(b[c]);
for(c=0;c<newValue.length;c++)this.select(newValue[c])}});Object.defineProperty(d.prototype,"allItems",{get:function(){return this.__allItems},set:function(a){for(var b=0;b<this.__selectedItems.length;b++)-1===a.indexOf(this.__selectedItems[b])&&this.deselect(this.__selectedItems[b]);this.__allItems=a}});e.Selection=d})(Qui);
